<div class="problem-statement">
 <div class="header">
  <div class="title">
   F. The Number of Subpermutations
  </div>
  <div class="time-limit">
   <div class="property-title">
    time limit per test
   </div>2 seconds
  </div>
  <div class="memory-limit">
   <div class="property-title">
    memory limit per test
   </div>256 megabytes
  </div>
  <div class="input-file">
   <div class="property-title">
    input
   </div>standard input
  </div>
  <div class="output-file">
   <div class="property-title">
    output
   </div>standard output
  </div>
 </div>
 <div>
  <p>You have an array $a_1, a_2, \dots, a_n$. </p>
  <p>Let's call some subarray $a_l, a_{l + 1}, \dots , a_r$ of this array a <span class="tex-font-style-it">subpermutation</span> if it contains all integers from $1$ to $r-l+1$ exactly once. For example, array $a = [2, 2, 1, 3, 2, 3, 1]$ contains $6$ subarrays which are subpermutations: $[a_2 \dots a_3]$, $[a_2 \dots a_4]$, $[a_3 \dots a_3]$, $[a_3 \dots a_5]$, $[a_5 \dots a_7]$, $[a_7 \dots a_7]$.</p>
  <p>You are asked to calculate the number of subpermutations.</p>
 </div>
 <div class="input-specification">
  <div class="section-title">
   Input
  </div>
  <p>The first line contains one integer $n$ ($1 \le n \le 3 \cdot 10^5$).</p>
  <p>The second line contains $n$ integers $a_1, a_2, \dots , a_n$ ($1 \le a_i \le n$). </p>
  <p><span class="tex-font-style-bf">This array can contain the same integers.</span></p>
 </div>
 <div class="output-specification">
  <div class="section-title">
   Output
  </div>
  <p>Print the number of subpermutations of the array $a$.</p>
 </div>
 <div class="sample-tests">
  <div class="section-title">
   Examples
  </div>
  <div class="sample-test">
   <div class="input">
    <div class="title">
     Input
    </div>
    <pre>8
2 4 1 3 4 2 1 2
</pre>
   </div>
   <div class="output">
    <div class="title">
     Output
    </div>
    <pre>7
</pre>
   </div>
   <div class="input">
    <div class="title">
     Input
    </div>
    <pre>5
1 1 2 1 2
</pre>
   </div>
   <div class="output">
    <div class="title">
     Output
    </div>
    <pre>6
</pre>
   </div>
  </div>
 </div>
 <div class="note">
  <div class="section-title">
   Note
  </div>
  <p>There are $7$ subpermutations in the first test case. Their segments of indices are $[1, 4]$, $[3, 3]$, $[3, 6]$, $[4, 7]$, $[6, 7]$, $[7, 7]$ and $[7, 8]$.</p>
  <p>In the second test case $6$ subpermutations exist: $[1, 1]$, $[2, 2]$, $[2, 3]$, $[3, 4]$, $[4, 4]$ and $[4, 5]$.</p>
 </div>
</div>